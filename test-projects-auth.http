### Test Project Management API avec Authentification

### Variables
@baseUrl = http://localhost:3000
@token = {{login.response.body.token}}

### 1. Connexion pour récupérer le token
# @name login
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "john.doe@example.com",
  "password": "password123"
}

### 2. Créer un projet (avec authentification) - NOUVELLE SYNTAXE
POST {{baseUrl}}/projects
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "name": "Mon Projet Authentifié",
  "description": "Un projet créé par l'utilisateur connecté"
}

### 3. Créer un autre projet
POST {{baseUrl}}/projects
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "name": "Projet E-commerce Sécurisé",
  "description": "Développement d'une plateforme e-commerce avec auth"
}

### 4. Récupérer un projet par ID
GET {{baseUrl}}/projects/project-id-here
Authorization: Bearer {{token}}

### 5. Test sans token - Doit retourner 401
POST {{baseUrl}}/projects
Content-Type: application/json

{
  "name": "Projet Non Autorisé",
  "description": "Ce projet ne devrait pas être créé"
}

### 6. Test avec token invalide - Doit retourner 401
POST {{baseUrl}}/projects
Authorization: Bearer invalid-token
Content-Type: application/json

{
  "name": "Projet Token Invalide",
  "description": "Ce projet ne devrait pas être créé"
}

### 7. Test d'erreur - Nom manquant
POST {{baseUrl}}/projects
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "description": "Projet sans nom"
}
